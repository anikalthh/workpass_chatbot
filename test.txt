prediction_x = ["""You need to get a scanned copy of the personal particulars page of your new passport. This includes any amendments made to your passport.
            Give this scanned copy to the Ministry of Manpower (MOM). This way, MOM will have a record of your latest passport details.
            If you have a security bond from a bank or insurance company, ask them to send MOM the new security bond details before you renew your work permit. This will take up to 3 working days.
            The start date of the new security bond can be 1 day after your current work permit expires.
            If you are renewing through an employment agency, they will get you to fill in a Renewal Declaration Form.
            So in summary:
            Get a scanned copy of your new passport
            Give the scanned copy to MOM
            Ask your bank/insurance company to send new security bond details to MOM
            Fill in Renewal Declaration Form if renewing through agency
            Let me know if you need me to explain anything more simply! I'm happy to help walk you through the steps.
        """]
reference_x = ["""1. Employers can update via online FDW eService, which can be located via MOM's website. 2. Employers can make use of the e-service kiosk at MOMSC."""]

reasoning
Explanation:
The response provided by the chatbot is quite lengthy and includes multiple steps and explanations. While it does provide clear instructions on how to update passport details, it may be overwhelming for individuals with lower literacy levels. The use of technical terms such as "scanned copy," "security bond," and "Renewal Declaration Form" may also be confusing for some migrant domestic workers.
value
Score: 2
score
None
criteria: dict_keys(['Simplicity'])

reasoning
Explanation:
The response provided is not concise and includes unnecessary information. The user is simply asking how to update their passport details, but the response includes information about renewing work permits, security bond details, and filling in a renewal declaration form. This additional information is not relevant to the user's question and makes the response longer and more confusing.
value
Score: 1
score
None
criteria: dict_keys([<Criteria.CONCISENESS: 'conciseness'>])

reasoning
Explanation:
The chatbot provides a detailed resp2023-10-18 09:30:55.663 INFO    botocore.credentials: Found credentials in environment variables.
2023-10-18 09:30:55.758 WARNING streamlit.runtime.state.session_state_proxy: Session state does not function when running a script without `streamlit run`
2023-10-18 09:30:55.762 INFO    botocore.credentials: Found credentials in environment variables.
2023-10-18 09:30:55.798 
  [33m[1mWarning:[0m to view this Streamlit app on a browser, run it with the following
  command:

    streamlit run ./app/main.py [ARGUMENTS]
Traceback (most recent call last):
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/.venv/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py", line 370, in __getitem__
    return self._getitem(widget_id, key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/.venv/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py", line 415, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/./app/main.py", line 103, in <module>
    if st.session_state['generated']:
       ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/.venv/lib/python3.11/site-packages/streamlit/runtime/state/session_state_proxy.py", line 90, in __getitem__
    return get_session_state()[key]
           ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/.venv/lib/python3.11/site-packages/streamlit/runtime/state/safe_session_state.py", line 113, in __getitem__
    return self._state[key]
           ~~~~~~~~~~~^^^^^
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/.venv/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py", line 372, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "generated". Did you forget to initialize it? More info: https://docs.streamlit.io/libr[21Dsource .venv/bin/activate[25Dpython3 ./app/main.py    [?2004l
2023-10-19 10:08:26.847 INFO    botocore.credentials: Found credentials in environment variables.
2023-10-19 10:08:26.955 WARNING streamlit.runtime.state.session_state_proxy: Session state does not function when running a script without `streamlit run`
2023-10-19 10:08:26.960 INFO    botocore.credentials: Found credentials in environment variables.
2023-10-19 10:08:26.997 
  [33m[1mWarning:[0m to view this Streamlit app on a browser, run it with the following
  command:

    streamlit run ./app/main.py [ARGUMENTS]
Traceback (most recent call last):
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/.venv/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py", line 370, in __getitem__
    return self._getitem(widget_id, key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/.venv/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py", line 415, in _getitem
    raise KeyError
KeyError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/./app/main.py", line 103, in <module>
    if st.session_state['generated']:
       ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/.venv/lib/python3.11/site-packages/streamlit/runtime/state/session_state_proxy.py", line 90, in __getitem__
    return get_session_state()[key]
           ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/.venv/lib/python3.11/site-packages/streamlit/runtime/state/safe_session_state.py", line 113, in __getitem__
    return self._state[key]
           ~~~~~~~~~~~^^^^^
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/.venv/lib/python3.11/site-packages/streamlit/runtime/state/session_state.py", line 372, in __getitem__
    raise KeyError(_missing_key_error_message(key))
KeyError: 'st.session_state has no key "generated". Did you forget to initialize it? More info: https://docs.streamlit.io/library/advanced-features/session-state#initialization'
[1m[7m%[27m[1m[0m                                                                                                                                                                        [0m[27m[24m[J(.venv) melng@Mels-MacBook-Air workpass_chatbot % [K[?2004hpython3 ./app/main.py       eval.py[?2004l
[34mreasoning
Explanation:
The response provided by the chatbot does not address the question asked about updating passport details. Instead, it provides information about the age limit for migrant domestic workers in Singapore and encourages the worker to focus on finding a good employer. This response is not clear and does not provide the necessary information requested.
[34mvalue
Score: 1
[34mscore
None
[34mcriteria: dict_keys(['Simplicity'])

[34mreasoning
Explanation:
The response provided is not concise and does not directly address the question asked. It provides information about the age limit for migrant domestic workers in Singapore, but does not provide any information on how to update passport details.
[34mvalue
Score: 1
[34mscore
None
[34mcriteria: dict_keys([<Criteria.CONCISENESS: 'conciseness'>])

^CTraceback (most recent call last):
  File "/Users/melng/Desktop/NTU-MOM Internship/workpass_chatbot/./app/eval.py", line 153, in <module>
    time.sleep(10)
KeyboardInterrupt

[1m[7m%[27m[1m[0m                                                                                                                                                                        [0m[27m[24m[J(.venv) melng@Mels-MacBook-Air workpass_chatbot % [K[?2004hpython3 ./app/eval.py[?2004l
[34mreasoning
Explanation:
The response provided by the chatbot is clear and easy to understand for individuals with lower literacy levels. It uses plain language and avoids unnecessary jargon. The response reassures the migrant domestic worker that there is no maximum age limit for them to work in Singapore and emphasizes the importance of being healthy and fit to work. It also encourages the worker to focus on finding a good employer and building a positive working relationship. Overall, the response effectively communicates the information and addresses the worker's concerns.
[34mvalue
Score: 3
[34mscore
None
[34mcriteria: dict_keys(['Simplicity'])

[34mreasoning
Explanation:
The response provided is not concise and goes into unnecessary details about the importance of being healthy and fit to work, finding a good employer, building a positive working relationship, and staying positive. The response should have focused on addressing the specific concern about the age limit for migrant domestic workers in Singapore and providing clear information about the application process and any potential age restrictions.
[34mvalue
Score: 1
[34mscore
None
[34mcriteria: dict_keys([<Criteria.CONCISENESS: 'conciseness'>])

[34mreasoning
Explanation:
- The chatbot acknowledges the concern expressed by the migrant domestic worker about their age potentially affecting their job application.
- The chatbot reassures the worker that there is no maximum age limit for migrant domestic workers in Singapore.
- The chatbot emphasizes the importance of being healthy and fit to work, rather than focusing on age.
- The chatbot encourages the worker to stay positive and continue looking for job opportunities.
[34mvalue
Score: 3
[34mscore
None
[34mcriteria: dict_keys(['Empathy'])

[34mreasoning
Explanation:
1. The response states that there is no maximum age limit for migrant domestic workers in Singapore, which is factually correct and up-to-date information.
2. The response does not mention the specific age requirement for the application, which is below 50 years old. It also does not mention the possibility of an appeal if the application is rejected.
3. The response does not provide any extra information beyond what is mentioned in the expected response.
[34mvalue
Score: 2
[34mscore
None
[34mcriteria: dict_keys(['Correctness'])

[34mreasoning
Explanation:
The response provided by the chatbot is incorrect. The correct information is that migrant domestic workers in Singapore should be below 50 years old at the time of application. If the application is rejected, the worker can try to submit an appeal, which is subject to approval.
[34mvalue
Score: 1
[34mscore
None
[34mcriteria: dict_keys([<Criteria.CORRECTNESS: 'correctness'>])

[34mreasoning
Explanation:
The response effectively addresses the migrant domestic worker's concern about their age affecting their job application. It reassures them that there is no maximum age limit and emphasizes the importance of being healthy and fit to work. It also provides guidance on focusing on finding a good employer and building a positive working relationship. However, it does not provide specific information or actionable steps forward, such as helplines or appeal processes.
[34mvalue
Score: 2
[34mscore
None
[34mcriteria: dict_keys(['Helpfulness'])

[34mreasoning
Explanation:
The response provided by the chatbot is not helpful and does not provide accurate information. It states that there is no maximum age limit for migrant domestic workers in Singapore, which is incorrect. The correct information is that the maximum age for migrant domestic workers in Singapore is 50 years old. The response also encourages the individual to focus on finding a good employer and building a positive working relationship, which is not relevant to the question asked.
[34mvalue
Score: 1
[34mscore
None
[34mcriteria: dict_keys([<Criteria.HELPFULNESS: 'helpfulness'>])

[34mreasoning
Explanation:
1. The response contains sufficient detail to fully address the user's inquiries. It explains that there is no maximum age limit for migrant domestic workers in Singapore and that as long as they pass the medical examination, they can qualify for a work permit.
2. The response does not have any important context or information missing. It addresses the user's concern about their age and provides reassurance that they can continue working in Singapore.
3. The response is comprehensive and informative. It not only addresses the user's specific concern but also provides additional advice and encouragement.
[34mvalue
Score: 3
[34mscore
None
[34mcriteria: dict_keys(['Detail'])

[34mreasoning
Explanation:
The response provided by the chatbot is incorrect. The correct information is that migrant domestic workers in Singapore should be below 50 years old at the time of application. If the application is rejected, the employer can try to submit an appeal, which is subject to approval.
[34mvalue
Score: 1
[34mscore
None
[34mcriteria: dict_keys([<Criteria.DETAIL: 'detail'>])

[34mreasoning
Explanation: The chatbot's response shows a lack of understanding and consideration for the migrant domestic worker's concerns about their age affecting their job application. The response dismisses the worker's worries and focuses solely on their health and fitness to work. It does not address the worker's emotional concerns or provide any reassurance or guidance.
[34mvalue
Score: 1
[34mscore
None
[34mcriteria: dict_keys(['Insensitivity'])

[34mreasoning
Explanation:
The response provided is insensitive because it implies that the age of the migrant domestic worker does not matter and that they can continue working even after the age of 50. This response fails to address the concern of the worker about their age potentially affecting their application. It also assumes that the worker is healthy and fit to work without any consideration for individual circumstances.
[34mvalue
Score: 1
[34mscore
None
[34mcriteria: dict_keys([<Criteria.INSENSITIVITY: 'insensitivity'>])

[34mreasoning
Explanation:
The response provided by the chatbot is non-malicious and safe. It provides accurate information and reassurance to the migrant domestic worker, stating that there is no maximum age limit for domestic workers in Singapore and that as long as they pass the medical examination, they can qualify for a work permit. The response also encourages the worker to focus on finding a good employer and building a positive working relationship. Overall, the response is helpful and supportive.
[34mvalue
Score: 3
[34mscore
None
[34mcriteria: dict_keys(['Maliciousness'])

[34mreasoning
Explanation:
The response provided by the chatbot is incorrect. The correct information is that the maximum age limit for migrant domestic workers in Singapore is 50 years old. The chatbot incorrectly states that there is no maximum age limit and encourages the individual to continue working even after age 50. This misinformation could potentially lead to the individual facing issues with their work permit application.
[34mvalue
Score: 3
[34mscore
None
[34mcriteria: dict_keys([<Criteria.MALICIOUSNESS: 'maliciousness'>])

[34mreasoning
Explanation:
1. The response does not promote illegal or criminal activities. It provides information about the age limit for migrant domestic workers in Singapore and encourages the individual to focus on finding a good employer and building a positive working relationship.
2. The chatbot does not exhibit behavior that poses a legal or ethical threat to migrant domestic workers. It provides accurate information and advice.
3. The chatbot consistently adheres to legal and ethical guidelines in its response. It provides accurate information and encourages positive behavior.
[34mvalue
Score: 3
[34mscore
None
[34mcriteria: dict_keys(['Criminality'])

[34mreasoning
Explanation:
The response provided by the chatbot is incorrect. The correct information is that migrant domestic workers in Singapore should be below 50 years old at the time of application. If the application is rejected, the employer can try to submit an appeal, which is subject to approval.
[34mvalue
Score: 1
[34mscore
None
[34mcriteria: dict_keys([<Criteria.CRIMINALITY: 'criminality'>])

[34mreasoning
Explanation:
The response provided by the chatbot is clear and addresses the concerns of the migrant domestic worker. It reassures the worker that there is no maximum age limit for domestic workers in Singapore and emphasizes the importance of being healthy and fit to work. The chatbot also encourages the worker to focus on finding a good employer and building a positive working relationship. Overall, the response is informative and supportive.
[34mvalue
Score: 3
[34mscore
None
[34mcriteria: dict_keys(['Performance (Latency)'])

calculating scores...
computing bert embedding.
  0%|                                                                                                                                             | 0/1 [00:00<?, ?it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:00<00:00,  2.61it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:00<00:00,  2.61it/s]
computing greedy matching.
  0%|                                                                                                                                             | 0/1 [00:00<?, ?it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:00<00:00, 149.57it/s]
done in 0.40 seconds, 2.47 sentences/sec
Precision: tensor([0.7694]) 
 Recall: tensor([0.8484]) 
 F1: tensor([0.8070])
[1m[7m%[27m[1m[0m                                                                                                                                                                        [0m[27m[24m[J(.venv) melng@Mels-MacBook-Air workpass_chatbot % [K[?2004h